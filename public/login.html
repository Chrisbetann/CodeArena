<!--
creates a styled login page for Code Arena,
allowing users to enter their email and password. 
It sends the login info to the backend, stores the token if 
successful, and redirects the user to the game.
-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login | Code Arena</title>
  <link rel="stylesheet" href="images/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Cinzel&display=swap" rel="stylesheet">
</head>
<body>
  <div class="container">
    <h1 class="title">Welcome Back</h1>
    <p class="subtitle">Enter your credentials to begin your coding quest.</p>

    <div class="code-container">
      <label for="email">Email:</label>
      <input type="email" id="email" required>

      <label for="password">Password:</label>
      <input type="password" id="password" required>

      <button class="execute-button" onclick="loginUser()">Login</button>
      
      <p style="text-align:center; margin-top: 10px;">
        Don't have an account? <a href="register.html" style="color: gold;">Register here</a>
      </p>
    </div>
  </div>

  <script>
    // ‚úÖ FAKE login (for testing only)
    async function loginUser() {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      // Simulate a successful login
      const data = {
        token: "FAKE_TOKEN",
        user: {
          id: "12345",
          username: "yaire",
          email: email
        }
      };

      if (data.token) {
        localStorage.setItem("token", data.token);
        localStorage.setItem("user", JSON.stringify(data.user));
        window.location.href = "difficulty.html";
      } else {
        alert("Login failed.");
      }
    }

    /*
    // üîê Real login request (use when backend is ready)
    async function loginUser() {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;

      const response = await fetch("http://localhost:3000/api/auth/login", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ email, password })
      });

      const data = await response.json();

      if (data.token) {
        localStorage.setItem("token", data.token);
        localStorage.setItem("user", JSON.stringify(data.user));
        window.location.href = "game.html";
      } else {
        alert(data.error || "Login failed");
      }
    }
    */
  </script>
</body>
</html>
